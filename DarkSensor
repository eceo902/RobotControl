#pragma config(Sensor, in4,    lightSensor,    sensorReflection)
#pragma config(Sensor, dgtl1,  rightEncoder,   sensorQuadEncoder)
#pragma config(Sensor, dgtl3,  leftEncoder,    sensorQuadEncoder)
#pragma config(Sensor, dgtl6,  limitSwitch,    sensorTouch)
#pragma config(Sensor, dgtl9,  sonarInput,     sensorSONAR_inch)
#pragma config(Motor,  port1,           leftMotor,     tmotorVex393_HBridge, openLoop)
#pragma config(Motor,  port3,           flashLight,    tmotorVexFlashlight, openLoop, reversed)
#pragma config(Motor,  port10,          rightMotor,    tmotorVex393_HBridge, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

/*
Project Title: 3.1.7 Robot Control Design
Team Members: Evan Seeyave, Noah Bruckner, Raymond Shen, Sam Deason
Date: 12/4/17
Section:


Task Description: Turn on a light in the dark and play a sound


Pseudocode:
Push limit switch
Wait 1 second to run
Move forward using automated straightening into the tunnel
Move forward until light sensor senses low light levels, and then stop moving
Turn on flashlight
Play high pitched noise
Move out of the tunnel using automated straightening
*/
task main() {

	while(SensorValue[limitSwitch] == 0)
	{
	}

	wait1Msec(2000);

	while(SensorValue(sonarInput) > 4)            //The robot is going to move forward into the tunnel until it senses the wall 4 inches away
	{
		motor[leftMotor] = 59;
		motor[rightMotor] = 59;
	}
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;

	wait1Msec(2000);

	if(SensorValue[lightSensor] >= 130)    //When the robot is in a dark area, the following code will execute
	{
		motor[flashLight] = 127;  																																	 //Flishlight is at full power

		wait1Msec(500);

		playSound(soundBeepBeep);

		wait1Msec(3000);		//Speaker makes noise

		motor[flashLight] = 0;   			//Flashlight turns off
	}

motor[leftMotor] = -59;
motor[rightMotor] = -59;
wait1Msec(3000);

}